<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>Marvel - Express</title>
	<!-- Latest compiled and minified CSS & JS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
	<script src="https://code.jquery.com/jquery.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
	<link rel="stylesheet" href="css/master.css">

</head>

<body>
	<div class="background-container">
		<img class="background-image"src="https://images7.alphacoders.com/532/532650.jpg" alt="">
	</div>
	<div class="container search-field">
		<div class="jumbotron">
			<h1>Marvel Express</h1>
			<h3>A quick resource for marvel superhero statistics!</h3>
			<hr>
			<a href="/add"><button type="button" class="btn btn-danger btn-lg"><span class="glyphicon glyphicon-plus"></span> Add </button></a>
		</div>
		<div class="row">

			<div class="col-lg-12">

				<div class="panel panel-default">
					<div class="panel-heading">
						<h3 class="panel-title"><strong>Superhero Search</strong></h3>
					</div>
					<div class="panel-body">
						<input type="text" id="character-search" class="form-control">
						<br>
						<div class="text-right">
							<button type="submit" class="btn btn-primary btn-md" id="search-btn"><span class="glyphicon glyphicon-search"></span> Search</button>

						</div>
					</div>
				</div>

				<div class="panel panel-default">
					<div class="panel-heading">
						<h3 class="panel-title"><strong>Character Statistics</strong></h3>
					</div>
					<div class="panel-body">
						<div class="well">
							<h2 id="name">Wolverine</h2>
							<div id="stats">
								<h3><strong>Type:</strong> <span id="role">Mutant</span></h3>
								<h3><strong>Age:</strong> <span id="age">145</span></h3>
								<h3><strong>Group:</strong> <span id="force-points">Xmen</span></h3>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script type="text/javascript">
		$("#search-btn").on("click", function() {
			var searchedCharacter = $("#character-search").val().trim();

			searchedCharacter = searchedCharacter.replace(/\s+/g, "").toLowerCase();

			$.get("/api/" + searchedCharacter, function(data) {
				console.log(data);
				if (data) {
					$("#stats").show();
					$("#name").text(data.name);
					$("#type").text(data.type);
					$("#age").text(data.age);
					$("#group").text(data.group);
				} else {
					$("#name").text("Your character was not found.");
					$("#stats").hide();
				}
			});
		});
	</script>
</body>

</html>
